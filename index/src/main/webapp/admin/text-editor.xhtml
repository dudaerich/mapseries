<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    
    
    <f:metadata>
        <f:viewParam name="code" value="#{user.code}" />
        <f:viewParam name="lang" value="#{user.lang}" />
        <f:viewParam name="text-lang" value="#{textEditor.lang}" />
        <f:viewParam name="text-name" value="#{textEditor.name}" />
    </f:metadata>
     
    <ui:composition template="/templates/admin/base.xhtml">
        
        <ui:param name="activeMenuItem" value="texts" />
        
        <ui:define name="admin-content">
            
            <div class="container-fluid">
                
                <h1 class="mb-4">#{textEditor.prettyName}: #{msg[user.getTranslatedLangKey(textEditor.lang)]}</h1>
                
                <div class="row">
                    <div class="col-md-12">
                        <div class="buttons">
                            <button id="btn-save" class="btn btn-danger" disabled="true" onclick="window.textEditor.onSaveClick()">#{msg['save']}</button>
                            <button class="btn btn-default" onclick="window.textEditor.onRestoreClick()">#{msg['restore']}</button>
                            <a class="btn btn-primary" href="#{application.contextPath}/admin/texts.xhtml">#{msg['back']}</a>
                        </div>
                    </div>
                </div>

                <div>
                    <textarea class="form-control" id="text-input">#{textEditor.text}</textarea>
                </div>
            </div>
            
            
            <script>
                window.contentDefinitionData = #{configuration.contentDefinitionData};
                window.textEditor.lang = '#{textEditor.lang}';
                window.textEditor.name = '#{textEditor.name}';
                window.textEditor.main();
            </script>
            
        </ui:define>
        
    </ui:composition>
    
</html>

